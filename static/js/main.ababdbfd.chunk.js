(this["webpackJsonpmovie-lister"]=this["webpackJsonpmovie-lister"]||[]).push([[0],{29:function(e,t,a){},31:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),i=a(19),r=a.n(i),s=(a(29),a(7)),o=a.n(s),h=a(8),u=a(20),l=a(3),j=(a(31),a(21)),m=a.n(j),b=a(22),d=a.n(b),g=a(23),O=(a(51),a(52),a(1)),v=function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),c=a[0],i=a[1];return Object(O.jsxs)(n.a.Fragment,{children:[Object(O.jsx)("img",{className:"image image--thumb ".concat(c?"image--thumb-loaded":"image--thumb-not-loaded"),alt:e.alt,src:e.thumbnail,width:e.width,height:e.height}),Object(O.jsx)("img",{onLoad:function(){i(!0)},className:"image image--full ".concat(c?"image--loaded":"image--not-loaded"),width:e.width,height:e.height,alt:e.alt,src:e.src})]})};function f(e){var t=e.data,a=e.width,c=e.height,n=t.title,i=t.poster_path,r=t.release_date,s="https://image.tmdb.org/t/p/w200/"+i,o="https://image.tmdb.org/t/p/w500/"+i;return Object(O.jsxs)("div",{className:"movie-item--container",style:{width:a,height:c},children:[Object(O.jsx)(v,{alt:n,src:o,thumbnail:s,width:a,height:c}),Object(O.jsx)("div",{className:"movie-item--overlay"}),Object(O.jsxs)("div",{className:"movie-item--overlay-text",children:[Object(O.jsx)("p",{className:"movie-item--title movie-item--title-1",children:n}),Object(O.jsx)("br",{}),Object(O.jsx)("p",{className:"movie-item--title movie-item--title-2",children:r.split("-")[0]})]})]})}var p=a(24),x=a.n(p);function w(e){var t=e.height,a=e.width;return Object(O.jsx)(x.a,{count:1,height:t,width:a})}var S="7c211e20b9f4a7b93823508b71ead123",y=function(e,t){var a=t.currentPage,c=t.searchMovieText,n="https://api.themoviedb.org/3";return n+="SEARCH"===e&&c?"/search/movie?api_key=".concat(S,"&query=").concat(c):"/discover/movie?api_key=".concat(S),a&&(n+="&page=".concat(a)),n};var N=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)("DISCOVER"),r=Object(l.a)(i,2),s=r[0],j=r[1],b=Object(c.useState)(1),v=Object(l.a)(b,2),p=v[0],x=v[1],S=Object(c.useState)([]),N=Object(l.a)(S,2),C=N[0],E=N[1],k=Object(c.useState)(""),M=Object(l.a)(k,2),_=M[0],F=M[1],A=function(e){E([]),x(1),F(e.target.value)},I=Object(c.useMemo)((function(){return d()(A,150)}),[]),L=Object(c.useCallback)(Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(y(s,{currentPage:p,searchMovieText:_}));case 2:t=e.sent,a=t.data,x(p+1),E([].concat(Object(h.a)(C),Object(h.a)(a.results))),n(a.total_pages);case 7:case"end":return e.stop()}}),e)}))),[C,p,s,_]);return Object(c.useEffect)((function(){L()}),[]),Object(c.useEffect)((function(){j(_&&""!==_?"SEARCH":"DISCOVER"),L()}),[_]),Object(c.useEffect)((function(){return function(){I.cancel()}}),[]),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"search-bar--input",type:"text",placeholder:"Search a movie",onChange:I})}),Object(O.jsx)(g.a,{dataLength:C.length,next:L,loader:Object(O.jsx)("div",{className:"movie-container",children:Array.from(Array(20).keys()).map((function(e,t){return Object(O.jsx)(w,{height:300,width:200},t)}))}),hasMore:p<a,endMessage:Object(O.jsx)("hr",{}),children:Object(O.jsx)("div",{className:"movie-container",children:C.filter((function(e){return null!==e.poster_path})).map((function(e,t){return Object(O.jsx)(f,{data:e,height:300,width:200},t)}))})})]})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,58)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),i(e),r(e)}))};r.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(N,{})}),document.getElementById("root")),C()}},[[57,1,2]]]);
//# sourceMappingURL=main.ababdbfd.chunk.js.map